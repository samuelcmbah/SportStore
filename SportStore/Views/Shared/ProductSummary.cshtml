@model Product

@{
    var photoPath = "~/images/" + Model.PhotoPath;
    var returnUrl = $"{Context.Request.Path}{Context.Request.QueryString}";
}

<div class="card h-100 shadow-sm product-card">
    <img src="@photoPath"
         alt="@Model.Name"
         class="card-img-top img-fluid"
         asp-append-version="true"
         style="object-fit: cover; height: 200px;" />

    <div class="card-body d-flex flex-column">
        <h6 class="card-title text-truncate" title="@Model.Name">
            @Model.Name
        </h6>

        <p class="fw-bold text-primary mb-2">
            @Model.Price.ToString("c")
        </p>

        <form method="post"
              asp-controller="Cart"
              asp-action="AddToCart"
              class="mt-auto">
            <input type="hidden" asp-for="ProductID" />
            <input type="hidden" name="returnUrl" value="@returnUrl" />

            <button type="submit"
                    class="btn btn-success btn-sm w-100">
                Add to Cart
            </button>
        </form>
    </div>
</div>
